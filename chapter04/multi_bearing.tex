\subsubsection{Multi-Directional Bearing Angle Image}

The \emph{\gls{multi-directional-bearing-angle-image}} attempts to overcome the limitation of missing rotation invariance for the classical \gls{bearing-angle-image}.
Instead of computing one angle in one direction, the two adjacent triangle are combined.
Figure~\ref{fig:max-curve} shows how the triangles are related.
Both angles $\beta$ and $\gamma$ are calculated with Equation~\ref{eq:bearing-angle}.
For $\gamma$ the values of $d_{i,j}$ and $d_{i-1,j}$ need to be swapped.
\begin{figure}
    \scalebox{0.9}{%
    \input{chapter04/img/max-curve.tikz}
    }
    \caption[Schematic representation of the \gls{multi-directional-bearing-angle-image}]{\emph{Schematic representation of the \gls{multi-directional-bearing-angle-image}.} The \gls{multi-directional-bearing-angle-image} composes two \Glspl{bearing-angle} in vertical, horizontal, diagonal and antidiagonal direction. The maximum angle is then selected as pixel value.}\label{fig:max-curve}
\end{figure}
Both angles are added together, resulting in the angle of the surface at this position.
\begin{equation}
    \mathcal{B_{\textit{direction}}}= \beta + \gamma
\end{equation}
This calculation is again only in one direction and not rotation invariant but already symmetrical.
The value $\mathcal{B_{\textit{direction}}}$ can be defined for diagonal, antidiagonal, horizontal and vertical sampling of the image.
The final step for rotation invariance is the reduction of these four values to their maximum:
\vspace{-2mm}
\begin{align}
    \mathcal{B} &= \max{\{\mathcal{B}_{diagonal}, \mathcal{B}_{antidiagonal}, \mathcal{B}_{horizontal}, \mathcal{B}_{vertical}\}}
\end{align}
The converted images in Figure~\ref{fig:max-curve-images} show the same scene and positions as for the \gls{bearing-angle-image}.
\begin{figure}[H]
    \begin{subfigure}[t]{0.32\textwidth}
        \includegraphics[width=\linewidth]{chapter04/img/max-0001.png}
    \end{subfigure}
    \begin{subfigure}[t]{0.32\textwidth}
        \includegraphics[width=\linewidth]{chapter04/img/max-0030.png}
    \end{subfigure}
    \begin{subfigure}[t]{0.32\textwidth}
        \includegraphics[width=\linewidth]{chapter04/img/max-0210.png}
    \end{subfigure}
    \caption[Rotation invariance of \gls{multi-directional-bearing-angle-image}]{\emph{Rotation invariance of \gls{multi-directional-bearing-angle-image}.} The images show the same camera positions as the \gls{bearing-angle} and demonstrates the rotation invariance. Each edge in the geometry forms a visible white line. No other textures exist.}\label{fig:max-curve-images}
\end{figure}
\vspace{-5mm}
The goal of rotational invariance is achieved, unfortunatly the image lacks texture and contrast.
Qualitative tests with common feature detectors yielded weak keypoint responses.
Therefore, this approach received no further attention.
